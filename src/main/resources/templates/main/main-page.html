<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>MAINPAGE</title>
    <link rel="stylesheet" href="/css/fragment/footer.css">
    <link rel="stylesheet" href="/css/fragment/header.css">
    <link rel="stylesheet" href="/css/login/mainPage.css">
    <link rel="stylesheet" href="/css/mypage/my-page.css">
    <script src="https://code.jquery.com/jquery-3.7.0.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
    <th:block th:replace="~{fragment/header :: style}"></th:block>
</head>
<body >
<!--style="overflow: auto;"-->
<div id="wrap">
    <th:block th:replace="~{fragment/header :: header}"></th:block>
    <main class="main">
        <h2>놀이터 홈</h2>
        <div class="main_div1">
            <section class="main_section">
                <h3>고민을 나누면 행복합니다❤️</h3>
                <div class="main_section_div">
                    <div class="main_section_div1">
                        <i class="i1"></i>
                        <span class="span1" th:text="|게시글 ${postCount} 건|">게시글 55,329,372 건</span>
                        <i class="i2"></i>
                        <i class="i3"></i>
                        <a href="">
                            <span class="span2">공지사항</span>
                        </a>
                    </div>
                </div>
            </section>
            <div class="main_div2">
                <section class="main_div2_section1">
                    <div class="main_div2_section1_div1">
                        <h4>게시글 리스트</h4>
                        <div class="div1">
                            <div class="div2">
                                <a href="">
                                    <div class="d1"></div>
                                    <div class="d2">
                                        <strong>일정</strong>
                                        <span class="span0">2014년 개소한 환타지아양로원은 정부 지원 없이 홀로 계신 저소득층 및 취약 계층 어르신과 대부분 가족의 돌봄을 받지 못하는 몸이 불편한 어르신들이 내 집처럼 편안하게 생...</span>
                                        <div>

                                        </div>
                                        <button>
                                            <span class="span1">#</span>
                                            <span class="span2">학교별게시판</span>
                                        </button>
                                    </div>
                                </a>
                            </div>
                            <!--게시판 한칸-->
                            <th:block th:each="post:${posts}" th:object="${post}" >
                                <div class="div3">
                                    <form class="goToPostDetail" th:action="@{/post-detail}" method="post">
                                        <input th:value="*{id}" type="hidden" name="id">
                                        <input type="hidden" th:value="*{category}" name="category">
                                    </form>
                                    <a class="goToDetail">
                                        <div class="d1"></div>
                                        <div class="d2">
                                            <strong>고민</strong>
                                            <span class="span0" th:text="*{postContent}">2014년 개소한 환타지아양로원은 정부 지원 없이 홀로 계신 저소득층 및 취약 계층 어르신과 대부분 가족의 돌봄을 받지 못하는 몸이 불편한 어르신들이 내 집처럼 편안하게 생...</span>
                                            <button>
                                                <span class="span1">#</span>
                                                <span class="span2 category" th:text="*{category}">자유게시판</span>
                                            </button>
                                        </div>
                                    </a>
                                </div>
                            </th:block>
                            <!--게시판 한칸-->
                        </div>
                    </div>

                    <div class="main_div2_section1_div4">
                        <h4 class="h41">
                            <a href="" class="a1">
                                <div class="div1">
                                    <span class="span1">댓글도 힘이 되는</span>
                                    <em class="em1">가장 쉬운 소통 ❤️</em>
                                </div>
                            </a>
                        </h4>
                        <div class="div2">
                            <button class="b1">#<!-- -->고민상담</button>
                            <button class="b2">#<!-- -->자유</button>
                            <button class="b3">#<!-- -->학교별</button>
                            <button class="b4">#<!-- -->시간표</button>
                        </div>
                        <div class="div3">
                            <div class="d1">
                                <a href="" class="a1">
                                    <div class="d1"></div>
                                    <div class="d2">
                                        <strong>학생들을 편하게 대하는 법 아시는 분?</strong>
                                        <span>자유게시판</span>
                                    </div>
                                </a>
                            </div>
                            <div class="d2">
                                <a href="" class="a1">
                                    <div class="d1"></div>
                                    <div class="d2">
                                        <strong>학부모 상담 꿀팁있나요?</strong>
                                        <span>고민상담</span>
                                    </div>
                                </a>
                            </div>
                            <div class="d3">
                                <a href="" class="a1">
                                    <div class="d1"></div>
                                    <div class="d2">
                                        <strong>시간표 공유</strong>
                                        <span>학교별게시판</span>
                                    </div>
                                </a>
                            </div>
                            <div class="d4">
                                <a href="" class="a1">
                                    <div class="d1"></div>
                                    <div class="d2">
                                        <strong>수학</strong>
                                        <span>과목별문제</span>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>
                </section>
                <section class="main_div2_section2">
                    <div class="div1">
                        <div class="div2">
                            <h4 class="h41">
                                <a href="" class="a1">
                                        <span class="span1">
                                            우리가
                                            <br class="br1">
                                            같이만든 변화들
                                        </span>
                                </a>
                            </h4>
                            <p class="p1">
                                <span th:text="${#dates.format(#dates.createNow(), 'yyyy.MM.dd')}"></span> 기준
                            </p>
                            <div class="div3"></div>
                            <div class="div4">
                                <a href="" class="a2">
                                    <div class="d1">
                                        <i></i>
                                        <strong>총 게시글</strong>
                                        <em th:text="|${postCount} 개|">70,325,179,003<!-- -->개</em>
                                    </div>
                                </a>
                            </div>
                        </div>
                        <div class="div5">
                            <div class="d1">
                                <a href="" class="a1">
                                    <h4>베스트 댓글</h4>
                                </a>
                            </div>
                            <div class="d2">
                                <div class="d2_1" th:text="${reply.get().replyContent}">
                                    교직 12년이 넘었는데 여전히 나의 내면은 흔들린다. 여전히 두려울 때가 많다. 왜 그럴까? 내가 끊임없이 무너지는 ‘그 지점’이 있다. 수업 고민을 살펴보면 결국은 이 두려움에 뿌리내리고 있음을 발견한다.
                                    겉으로 보이는 수업 속 문제는 동학년 선생님들과 같이 고민하기도 했지만, 교사로서 느끼는 두려움은 참으로 꺼내기 어려운 주제였다. 내가 약해 보일까 봐, 무능해 보일까 봐 마음속 깊숙이 감추어왔던 것이다. 수업 나눔을 하며, 이런 두려움을 처음으로 말할 수 있었다. 마음속 두려움을 말하면 선생님들이 흉볼지도 모른다고 생각했는데, 수업 친구들은 오히려 진심으로 공감해 주었다. ‘선생님만의 문제가 아니라고. 나도 느끼는 거라고.’ 공감과 지지만 받았을 뿐인데도, 신기하게도 두려움이 조금씩 걷혀갔다.
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
        <th:block th:replace="~{fragment/footer :: footer}"></th:block>
    </main>
</div>
</body>
<script th:inline="javascript">
    let user = [[${session.user}]]
    let reply = [[${reply.get()}]]
    let posts = [[${posts}]]
    console.log("머임")

    let ids = document.querySelectorAll('.goToPostDetail');
    let buttons = document.querySelectorAll('.goToDetail')

    for (let i = 0; i < buttons.length; i++) {

        let button = buttons.item(i);
        let id = ids.item(i);
        button.addEventListener("click", e =>{
            id.submit();
        })
    }

    $(document).ready(function() {
        $('.category').each(function() {
            var categoryText = $(this).text();
            if(categoryText === "free"){
                $(this).text("자유게시판");
            } else if(categoryText === "consulting"){
                $(this).text("고민게시판");
            }
        });
    });


    // console.log(user)
    //
    // const button = document.querySelector(".header_div1_button svg");
    // const modal = document.querySelector(".header_div1_2");
    // const bc = document.querySelector(".header_div1_2 .div3");
    // const body = document.querySelector("body");
    //
    // button.addEventListener("click", (e) => {
    //
    //         modal.style.visibility = 'visible';
    //         body.style.overflowY = 'hidden';
    //         // modal.classList.add('modalBody');
    //
    //     }
    // )
    // bc.addEventListener("click", (e) => {
    //     modal.style.visibility = 'hidden';
    //     body.style.overflowY = 'auto';
    // })
    //
    // let check = "";
    // const lines = document.querySelectorAll(".header_div1_nav ul .selectitem");
    // lines.forEach((item) => {
    //     item.addEventListener("click", (e) => {
    //         lines.forEach((e) => {
    //             e.classList.add('noline');
    //         })
    //         item.classList.add('line');
    //     })
    // })
    //
    // const li = document.querySelectorAll(".header_div1_nav ul .selectitem");
    // const a = document.querySelectorAll(".header_div1_nav ul .selectitem a");
    // const extra = document.querySelector(".extra");
    // li.forEach((item) => {
    //     item.addEventListener("mouseover", (e) => {
    //         a.forEach((i) => {
    //             if(i.textContent === '게시판' & e.target.textContent === '게시판'){
    //                 // i.style.color = 'blue';
    //                 extra.style.display = 'block';
    //             }
    //
    //         })
    //
    //     })
    // })
    //
    // li.forEach((item) => {
    //     item.addEventListener("mouseout", (e) => {
    //         a.forEach((i) => {
    //             if(i.textContent === '게시판' & e.target.textContent === '게시판'){
    //                 // i.style.color = 'black';
    //                 // extra.style.display = 'none';
    //             }
    //
    //         })
    //
    //     })
    // })
    //
    //
    //
    // const lis = document.querySelectorAll(".ex .extra .extra_nav .selectitem");
    // const as = document.querySelectorAll(".ex .extra .extra_nav .selectitem a");
    //
    //
    // lis.forEach((item) => {
    //     item.addEventListener("mouseover", (e) => {
    //         as.forEach((i) => {
    //             if(i.textContent === e.target.textContent){
    //                 i.style.color = 'rgb(68, 68, 68)';
    //             }
    //
    //         })
    //
    //     })
    // })
    //
    // lis.forEach((item) => {
    //     item.addEventListener("mouseout", (e) => {
    //         as.forEach((i) => {
    //             if(i.textContent === e.target.textContent){
    //                 i.style.color = '#a0a0a0';
    //             }
    //
    //         })
    //
    //     })
    // })
</script>
</html>